\documentclass[a4paper, 12pt, titlepage]{article}

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[pdftex]{graphicx}
\usepackage{tabularx}

\newcommand{\urequirement}[2]{
	\subsubsection{}
	\begin{tabular}{l p{10cm}}
	\bf{How to measure} & 
		#1\\
	\bf{Requirement} & 
		#2\\
	\end{tabular}
}

\newcommand{\testcase}[2]{
	\subsubsection{}
	\begin{tabular}{l p{11cm}}
	\bf{Input} & 
		#1\\
	\bf{Output} & 
		#2\\
	\end{tabular}
}

\newcommand{\ttestcase}[3]{
	\subsubsection{#1}
	\begin{tabular}{l p{11cm}}
	\bf{Input} & 
		#2\\
	\bf{Output} & 
		#3\\
	\end{tabular}
}

\newcommand{\ptestcase}[3]{
	\subsubsection{}
	\begin{tabular}{l p{10cm}}
	\bf{Prerequisites} & 
		#1\\
	\bf{Input} & 
		#2\\
	\bf{Output} & 
		#3\\
	\end{tabular}
}

\begin{document}
	
	% Framsidan
	\begin{titlepage}
		
		\includegraphics[scale=0.4]{logoNormal.png}
		
		\vspace{6cm}
		
		\begin{center}
			\Huge{\textbf{Test cases}} % Ändra dokumentets titel
			
			\vspace{0.5cm}
			
			\huge{2012-04-19} % Datum senast ändrad
		\end{center}
		
	\end{titlepage}
	
	% Innehållsförteckning
	\tableofcontents
	\newpage
	
	% Versioner (lägg till ändringar ni gör som en ny rad i tabellen nedan).
	% Under Utförda av anges LiU-id.
	\section*{Versions}
	\begin{tabularx}{1\textwidth}{|l|l|X|l|}
		\hline
		\bf{Version} & \bf{Date} & \bf{Changes} & \bf{By} \\
		\hline
		0.2 & 2012-04-19 & Database abstraction tests. & nicol271 \\
		\hline
		0.1 & 2012-04-10 & First version. & nicol271 \\
		\hline
	\end{tabularx}
	\newpage
	
	% Dokumentets innehåll nedanför här.
	\section{System quality tests}
	Tests overall, system-wide qualities.

	\subsection{Usability}
		\urequirement
		{
			A tester is given the following tasks: read a thread, reply to the thread, and create a new thread.
		}{
			3 out of 4 randomly chosen testers must be able to fullfill the tasks, see R.1.1.0.1
		}

	\subsection{Performance}
		\urequirement
		{
			By navigating through the system, measuring the response time using the net-panel in the browser web developer tools.
		}{
			Response time less than 2 seconds, see R.1.2.0.1
		}

	\section{Testing the server}
	\subsection{Argument handling}
	Tests if the server handles incorrect command-line arguments.\\

		\testcase
		{
			Server is called without giving an appname to run
		}{
			Fail: A message describing the usage is shown
		}

		\testcase
		{
			An incorrect appname is given
		}{
			Fail: A message saying that the app could not be found
		}

	\subsection{App configuration}
	Tests if handling of the app-definitions is correct. [To be written]\\


	\subsection{Networking}
	Tests if the server really can serve requests correctly.\\
	Prerequisties: The server is running an existing app which returns known data.

		\testcase
		{
			A plain HTTP GET-request without data is sent to the port that the server is listening on
		}{
			Pass: A response with HTTP-status code 200
		}

		\testcase
		{
			A plain HTTP-request is sent to the port that the server is listening on
		}{
			Pass: The body of the HTTP response consists of the known data declared in the app
		}

		\testcase
		{
			A HTTP-request with a path to a non-existing file is sent to the server
		}{
			Fail:  A response with HTTP-status code 404
		}

	\section{Testing database abstraction layer}
	Unit-testing of the part of the system which interacts directly with the database.

	\subsection{Users}

		\testcase
		{
			Log into the database with a name and a callback-function
		}{
			Pass: The user is logged in and the callback-function is called
		}

		\testcase
		{
			Get list of users from database
		}{
			Pass: The logged-in users are recieved
		}

	\subsection{Categories}

		\testcase
		{
			Create a new category with a name 
		}{
			Pass: The category is created, no error-callback is recieved
			% Fail: The callback-function is called with an error
		}

		\testcase
		{
			Get categories from database
		}{
			Pass: The supplied callback-function is called with a list of all category-objects in the database
		}

	\subsection{Subforum}

		\testcase
		{
			Create a new subforum in a category
		}{
			Pass: The subforum is created, no error-callback is recieved
			% Fail: The callback-function is called with an error
		}

		\testcase
		{
			Get all subforums for a specified category
		}{
			Pass: A list of all subforum-objects for the specified category
		}

	\subsection{Threads}

		\testcase
		{
			Create a new thread in a subforum
		}{
			Pass: The thread is created, no error-callback is recieved
			% Fail: The callback-function is called with an error
		}

		\testcase
		{
			Get all threads for a specified subforum
		}{
			Pass: A list of all thread-objects for the specified subforum
		}

	\subsection{Posts}

		\testcase
		{
			Create a new post in a thread
		}{
			Pass: The post is created in the thread, no error-callback is recieved
			% Fail: The callback-function is called with an error
		}

		\testcase
		{
			Get all posts for a specified thread
		}{
			Pass: A list of all post-objects for the specified thread
		}

	\subsection{Answers}

		\testcase
		{
			Create a new answer to a thread
		}{
			Pass: The answer is created, no error-callback is recieved
			% Fail: The callback-function is called with an error
		}

		\testcase
		{
			Get all answers for a specified thread
		}{
			Pass: A list of all answer-objects for the specified thread
		}


	\subsection{Overall}

		\ttestcase{Callbacks on new data}
		{
			Gets a list of objects and then inserts a new object into the database.
		}{
			Pass: The callback-function is called twice: once with the first query resukt, and then again efter inserting the new object.
		}


\end{document}